% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_marketing_year_avg_price.R
\name{get_marketing_year_avg_price}
\alias{get_marketing_year_avg_price}
\title{Get Marketing Year Average Price for a Single Crop from USDA NASS Quick Stats}
\usage{
get_marketing_year_avg_price(
  dir_source = "./data-raw/fastscratch/nass/",
  agg_level_desc = c("NATIONAL", "STATE", "COUNTY"),
  short_desc = "CORN, GRAIN - PRICE RECEIVED, MEASURED IN $ / BU"
)
}
\arguments{
\item{dir_source}{\code{character(1)}
Path to the directory where Quick Stats files are stored.
Defaults to \code{"./data-raw/fastscratch/nass/"}.}

\item{agg_level_desc}{\code{character}
One or more values for the \code{agg_level_desc} field in the Quick Stats data.
Can be \code{"STATE"} or/and \code{"NATIONAL"}.  Defaults to \code{"NATIONAL"}.}

\item{short_desc}{\code{character}
One or more Quick Stats \code{short_desc} strings identifying the crop-price series to retrieve.
Defaults to \code{"CORN, GRAIN - PRICE RECEIVED, MEASURED IN $ / BU"}.
\strong{Currently, only the following set is supported:}
c(
"OATS - PRICE RECEIVED, MEASURED IN $ / BU",
"RYE - PRICE RECEIVED, MEASURED IN $ / BU",
"TOBACCO - PRICE RECEIVED, MEASURED IN $ / LB",
"CORN, GRAIN - PRICE RECEIVED, MEASURED IN $ / BU",
"FLAXSEED - PRICE RECEIVED, MEASURED IN $ / BU",
"BARLEY - PRICE RECEIVED, MEASURED IN $ / BU",
"BEANS, DRY EDIBLE, INCL CHICKPEAS - PRICE RECEIVED, MEASURED IN $ / CWT",
"HAY - PRICE RECEIVED, MEASURED IN $ / TON",
"WHEAT - PRICE RECEIVED, MEASURED IN $ / BU",
"COTTON - PRICE RECEIVED, MEASURED IN $ / LB",
"COTTON, COTTONSEED - PRICE RECEIVED, MEASURED IN $ / TON",
"COTTON, UPLAND - PRICE RECEIVED, MEASURED IN $ / LB",
"SORGHUM, GRAIN - PRICE RECEIVED, MEASURED IN $ / CWT",
"SOYBEANS - PRICE RECEIVED, MEASURED IN $ / BU",
"SUGARBEETS - PRICE RECEIVED, MEASURED IN $ / TON",
"PEAS, DRY EDIBLE - PRICE RECEIVED, MEASURED IN $ / CWT",
"SUNFLOWER - PRICE RECEIVED, MEASURED IN $ / CWT",
"RICE - PRICE RECEIVED, MEASURED IN $ / CWT",
"RICE, MEDIUM-SHORT GRAIN - PRICE RECEIVED, MEASURED IN $ / CWT",
"RICE, LONG GRAIN - PRICE RECEIVED, MEASURED IN $ / CWT",
"PEANUTS - PRICE RECEIVED, MEASURED IN $ / LB",
"CANOLA - PRICE RECEIVED, MEASURED IN $ / CWT",
"MAPLE SYRUP - PRICE RECEIVED, MEASURED IN $ / GALLON",
"MILLET, PROSO - PRICE RECEIVED, MEASURED IN $ / BU",
"SUGARCANE - PRICE RECEIVED, MEASURED IN $ / TON",
"SAFFLOWER - PRICE RECEIVED, MEASURED IN $ / CWT"
)}
}
\value{
A \code{data.table} with columns:
\itemize{
\item \code{commodity_year} (\code{integer}): the marketing year
\item \code{commodity_code} (\code{integer}): NASS commodity code
\item \code{state_code} (\code{integer}): state FIPS code (if \code{agg_level_desc} includes \code{"STATE"})
\item \code{marketing_year_avg_price} (\code{numeric}): average price for the marketing year, in dollars per unit
\item \code{data_source} (\code{character}): always \code{"USDA NASS Quick Stats"}
}
}
\description{
\code{get_marketing_year_avg_price()} fetches USDA NASS Quick Stats data for a specified crop
(\code{short_desc}) at one or more aggregation levels (\code{agg_level_desc}), computes the mean price
for the marketing year, joins to official RMA commodity codes, applies necessary unit conversions,
and returns a tidy table of marketing-year average prices.
}
\seealso{
\itemize{
\item \code{process_nass_dataset()} for the underlying data fetch and filtering
\item \code{get_nass_large_datasets()} for downloading the raw Quick Stats files
}
}
