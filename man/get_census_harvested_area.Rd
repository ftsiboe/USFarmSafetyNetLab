% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_census_harvested_area.R
\name{get_census_harvested_area}
\alias{get_census_harvested_area}
\title{Retrieve and Aggregate NASS Harvested Area Data}
\usage{
get_census_harvested_area(
  dir_source,
  census_years = c(2002, 2007, 2012, 2017, 2022),
  aggregation_level = c("STATE", "NATIONAL", "COUNTY"),
  map_crop_area = list(barley = "BARLEY - ACRES HARVESTED", corn =
    c("CORN, GRAIN - ACRES HARVESTED", "CORN, SILAGE - ACRES HARVESTED"), cotton =
    "COTTON - ACRES HARVESTED", oats = "OATS - ACRES HARVESTED", peanuts =
    "PEANUTS - ACRES HARVESTED", rice = "RICE - ACRES HARVESTED", sorghum =
    c("SORGHUM, GRAIN - ACRES HARVESTED", "SORGHUM, SILAGE - ACRES HARVESTED",
    "SORGHUM, SYRUP - ACRES HARVESTED"), soybeans = "SOYBEANS - ACRES HARVESTED", wheat =
    "WHEAT - ACRES HARVESTED")
)
}
\arguments{
\item{dir_source}{Character. Path to the root directory containing the
downloaded or pre-processed NASS datasets.}

\item{census_years}{Numeric vector of Census of Agriculture years to include.
Default: \code{c(2002, 2007, 2012, 2017, 2022)}.}

\item{aggregation_level}{Character vector specifying one or more levels of
geographic aggregation to include. One or more of \code{"COUNTY"},
\code{"STATE"}, \code{"NATIONAL"}. COUNTY data are always queried and used
as the base for rollups.}

\item{map_crop_area}{Named list mapping standardized crop names to their
corresponding NASS \code{short_desc} values used for filtering harvested
area items. Defaults cover barley, corn, cotton, oats, peanuts, rice,
sorghum, soybeans, and wheat.}
}
\value{
A single \code{data.table} with aggregated harvested area and columns:
\describe{
\item{commodity_year}{Numeric; year of the commodity observation.}
\item{commodity_name}{Character; standardized crop identifier.}
\item{state_code}{State FIPS code (NA at NATIONAL level).}
\item{county_code}{County FIPS code (NA at STATE/NATIONAL levels).}
\item{value}{Total harvested area (acres).}
\item{agg_level}{One of \code{"COUNTY"}, \code{"STATE"}, \code{"NATIONAL"}.}
}
}
\description{
Extracts, filters, and aggregates harvested area information for major field
crops from pre-processed USDA NASS datasets (e.g., Census of Agriculture).
Multiple crop-specific descriptors (e.g., "CORN, GRAIN - ACRES HARVESTED",
"CORN, SILAGE - ACRES HARVESTED") are standardized into unified commodity
groups, then aggregated to county level and (optionally) rolled up to state
and national levels across selected years.
}
\details{
For each requested census dataset, the function:
\enumerate{
\item Calls \code{process_nass_dataset()} with filters for harvested area.
\item Normalizes and coerces numeric values.
\item Maps NASS descriptors to standardized \code{commodity_name}.
\item Aggregates to COUNTY, then (optionally) rolls up to STATE and NATIONAL.
}
Datasets that cannot be read/processed are skipped silently.
}
